### 模板方法

#### 定义

- 定义一个操作中的算法框架，而将一些步骤延迟到子类中，使得子类可以不改变一个算法的结构即可冲定义该算法的某些特定步骤。

#### 优点

1. 封装不变部分，扩展可变部分：把认为不变部分的算法封装到父类实现，可变部分则可以通过继承来实现，很容易扩展。
2. 提取公共部分代码，便于维护：上面悍马的例子就是个很好的解释。
3. 行为由父类控制，由子类实现。

#### 缺点

- 模板方法模式颠倒了我们平常的设计习惯：抽象类负责声明最抽象、最一般的事物属性和方法，实现类实现具体的事物属性和方法。在复杂的项目中可能会带来代码阅读的难度。



#### 结合源码

- 模板方法在spring和jdk源码中有很多体现

##### AQS中使用到的模板方法设计模式

- AQS的acquire方法使用到了模板方法来完成申请锁的操作，在acquire方法中，由子类来进行tryAcquire方法的实现，由AQS框架来维护CLH队列的入队以及出队，具体获取锁的过程也就是tryAcquire方法由子类来实现，因此子类可以实现公平与非公平锁，读写锁等