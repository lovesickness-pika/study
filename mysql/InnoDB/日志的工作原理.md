### 日志的工作原理

#### undo log

- undo log是用来完成事务回滚操作的，在每次进行写操作时，undo log中总会存放一条反向的逻辑语句，当需要回滚的时候，就通过反向补偿的方式将数据回滚到写操作之前的状态；这里是通过逻辑操作将数据库进行恢复的，所以数据结构和页本身是可能与之前不一样，只是存储的数据一样；undo log存放在表的共享空间中；并且MVCC的实现也是通过undo log实现的，当读取到某行已经被其它事务占用后，就会通过undo log读取之前的版本，以实现非锁定读；undo log的产生也会伴随着redo log，因为undo log本身也是需要持久化保护的





