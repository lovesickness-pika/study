### redis的文件事件

redis基于Reactor模式开发了自己的网络事件处理器，叫做**文件事件处理器**

- 文件事件处理器使用io多路复用程序来同时监听多个套接字，并根据套接字目前执行的任务来为套接字关联不同的事件处理器
- 当被监听的套接字准备好执行连接应答、读取、写入、关闭等操作时，与操作对应的事件就会产生，此时文件事件处理器就会调用套接字之前关联好的事件处理器来处理这些事件

#### API

- ae.c/aeCreateFileEvent函数接收一个套接字描述符、一个文件事件类型、以及一个事件处理器作为参数，将给定套接字的给定事件加入到IO复用程序的监听范围，并将事件与时间处理器进行关联
- ae.c/aeDeleteFileEvent函数接收一个套接字描述符合一盒监听事件作为参数，让io多路复用程序取消对给定套接字的给定事件的监听，并取消事件和事件处理器之间的关联
- ae.c/aeGetFileEvents函数接收一个套接字描述符，返回该套接字正在被监听的事件类型



文件事件处理器以单线程的方式运行，但通过io多路复用程序监听多个套接字，文件事件处理器既实现了高性能的网络通信模型，又可以很好地与redis服务器中其它同样以单线程方式运行地模块进行对接



